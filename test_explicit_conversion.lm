// 测试显式类型转换函数调用

print("=== Explicit Type Conversion Test ===");
print("");

// Test 1: int() function
print("1. Testing int() function:");
var int_from_str = int("42");
var int_from_float = int(3.14);
var int_from_bool = int(true);
print("   int(\"42\") =", int_from_str, "->", typeof(int_from_str));
print("   int(3.14) =", int_from_float, "->", typeof(int_from_float));
print("   int(true) =", int_from_bool, "->", typeof(int_from_bool));
assert(int_from_str == 42);
assert(int_from_float == 3);
assert(int_from_bool == 1);
print("   PASS: int() works");

// Test 2: float() function
print("");
print("2. Testing float() function:");
var float_from_str = float("2.71");
var float_from_int = float(5);
var float_from_bool = float(false);
print("   float(\"2.71\") =", float_from_str, "->", typeof(float_from_str));
print("   float(5) =", float_from_int, "->", typeof(float_from_int));
print("   float(false) =", float_from_bool, "->", typeof(float_from_bool));
assert(typeof(float_from_str) == "float");
assert(typeof(float_from_int) == "float");
assert(typeof(float_from_bool) == "float");
print("   PASS: float() works");

// Test 3: bool() function
print("");
print("3. Testing bool() function:");
var bool_from_int = bool(0);
var bool_from_str = bool("hello");
var bool_from_null = bool(null);
print("   bool(0) =", bool_from_int);
print("   bool(\"hello\") =", bool_from_str);
print("   bool(null) =", bool_from_null);
assert(bool_from_int == false);
assert(bool_from_str == true);
assert(bool_from_null == false);
print("   PASS: bool() works");

// Test 4: string() function
print("");
print("4. Testing string() function:");
var str_from_int = string(123);
var str_from_float = string(3.14);
var str_from_bool = string(true);
print("   string(123) =", str_from_int, "->", typeof(str_from_int));
print("   string(3.14) =", str_from_float, "->", typeof(str_from_float));
print("   string(true) =", str_from_bool, "->", typeof(str_from_bool));
assert(typeof(str_from_int) == "string");
assert(typeof(str_from_float) == "string");
assert(typeof(str_from_bool) == "string");
print("   PASS: string() works");

// Test 5: rational() function
print("");
print("5. Testing rational() function:");
var rat_from_int = rational(5);
var rat_from_float = rational(0.5);
print("   rational(5) =", rat_from_int, "->", typeof(rat_from_int));
print("   rational(0.5) =", rat_from_float, "->", typeof(rat_from_float));
assert(typeof(rat_from_int) == "rational");
assert(typeof(rat_from_float) == "rational");
print("   PASS: rational() works");

// Test 6: complex() function
print("");
print("6. Testing complex() function:");
var cplx_from_int = complex(3);
var cplx_from_float = complex(2.5);
print("   complex(3) =", cplx_from_int, "->", typeof(cplx_from_int));
print("   complex(2.5) =", cplx_from_float, "->", typeof(cplx_from_float));
assert(typeof(cplx_from_int) == "complex");
assert(typeof(cplx_from_float) == "complex");
print("   PASS: complex() works");

// Test 7: Chained conversions
print("");
print("7. Testing chained conversions:");
var result = int(float(string(42)));
print("   int(float(string(42))) =", result);
assert(result == 42);
print("   PASS: Chained conversions work");

print("");
print("=== All Explicit Type Conversion Tests Passed! ===");
